<?xml version="1.0" encoding="UTF-8" ?>
<schema name="book-store" version="1.6">
	<!-- THIS IS A REQUIRED FIELD FOR SOLR CLOUD DEPLOYMENTS - BEST TO LEAVE THIS AS IS -->
	<field name="_version_" type="plong" indexed="false" stored="false"/>

	<!--
	  The unique identifier for the Solr document - also required, but the field
	  name may be anything - see the <uniqueKey /> element later in this xml
	   configuration file.
	  -->
	<field name="id" type="string" stored="true" indexed="true" required="true" multiValued="false" />

	<!-- book store fields -->
	<field name="author" type="string" indexed="true" stored="true" multiValued="true" termVectors="true" />
	<field name="title" type="text_general" indexed="true" stored="true" multiValued="false" />
	<field name="description" type="text_general" indexed="true" stored="true" multiValued="false" />
	<field name="book_image" type="string" indexed="false" stored="true" multiValued="false" />
	<field name="buy_url" type="string" indexed="false" stored="true" multiValued="false" />
	<field name="genre" type="string" indexed="true" stored="true" multiValued="true" termVectors="true" />
	<field name="num_pages" type="pint" indexed="false" stored="true" multiValued="false" />
	<field name="first_published_year" type="pint" indexed="true" stored="true" multiValued="false" />
	<field name="language" type="string" indexed="true" stored="true" multiValued="false" />
	<field name="is_paperback" type="boolean" indexed="true" stored="true" multiValued="false" />
	<field name="series" type="string" indexed="true" stored="true" multiValued="false" termVectors="true" />
	<field name="price" type="pfloat" indexed="true" stored="true" multiValued="false" />
	<field name="on_backorder" type="boolean" indexed="true" stored="true" multiValued="false" />
	<field name="speedy_delivery" type="boolean" indexed="true" stored="true" multiValued="false" />

	<field name="a_to_z_index" type="string" indexed="true" stored="false" multiValued="false" />
	<field name="decade_published" type="pint" indexed="true" stored="false" multiValued="false" />
	<field name="book_length" type="string" indexed="true" stored="false" multiValued="false" />

	<field name="text" type="text_general" indexed="true" stored="false" multiValued="true" />

	<field name="text_author" type="text_general" indexed="true" stored="true" multiValued="true" />

	<uniqueKey>id</uniqueKey>

	<copyField source="author" dest="text" />
	<copyField source="title" dest="text" />
	<copyField source="description" dest="text" />
	<copyField source="genre" dest="text" />
	<copyField source="series" dest="text" />

	<copyField source="author" dest="text_author" />

	<dynamicField name="*_i"   type="pint"     indexed="true"  stored="true"/>
	<dynamicField name="*_is"  type="pints"    indexed="true"  stored="true"/>
	<dynamicField name="*_s"   type="string"   indexed="true"  stored="true" />
	<dynamicField name="*_ss"  type="strings"  indexed="true"  stored="true"/>
	<dynamicField name="*_l"   type="plong"    indexed="true"  stored="true"/>
	<dynamicField name="*_ls"  type="plongs"   indexed="true"  stored="true"/>
	<dynamicField name="*_b"   type="boolean"  indexed="true"  stored="true"/>
	<dynamicField name="*_bs"  type="booleans" indexed="true"  stored="true"/>
	<dynamicField name="*_f"   type="pfloat"   indexed="true"  stored="true"/>
	<dynamicField name="*_fs"  type="pfloats"  indexed="true"  stored="true"/>
	<dynamicField name="*_d"   type="pdouble"  indexed="true"  stored="true"/>
	<dynamicField name="*_ds"  type="pdoubles" indexed="true"  stored="true"/>
	<dynamicField name="*_dt"  type="pdate"    indexed="true"  stored="true"/>
	<dynamicField name="*_dts" type="pdates"   indexed="true"  stored="true"/>
	<dynamicField name="*_t"   type="text_general" indexed="true" stored="true" multiValued="false"/>
	<dynamicField name="*_txt" type="text_general" indexed="true" stored="true"/>

	<dynamicField name="random_*" type="random"/>
	<dynamicField name="ignored_*" type="ignored"/>
	<dynamicField name="*_str" type="strings" stored="false" docValues="true" indexed="false" useDocValuesAsStored="false"/>

	<dynamicField name="*_p"  type="location" indexed="true" stored="true"/>
	<dynamicField name="*_srpt"  type="location_rpt" indexed="true" stored="true"/>

	<dynamicField name="*_dpf" type="delimited_payloads_float" indexed="true"  stored="true"/>
	<dynamicField name="*_dpi" type="delimited_payloads_int" indexed="true"  stored="true"/>
	<dynamicField name="*_dps" type="delimited_payloads_string" indexed="true"  stored="true"/>

	<dynamicField name="attr_*" type="text_general" indexed="true" stored="true" multiValued="true"/>
	<uniqueKey>id</uniqueKey>

	<fieldType name="string" class="solr.StrField" sortMissingLast="true" docValues="true" />
	<fieldType name="strings" class="solr.StrField" sortMissingLast="true" multiValued="true" docValues="true" />

	<fieldType name="boolean" class="solr.BoolField" sortMissingLast="true"/>
	<fieldType name="booleans" class="solr.BoolField" sortMissingLast="true" multiValued="true"/>

	<fieldType name="pint" class="solr.IntPointField" docValues="true"/>
	<fieldType name="pfloat" class="solr.FloatPointField" docValues="true"/>
	<fieldType name="plong" class="solr.LongPointField" docValues="true"/>
	<fieldType name="pdouble" class="solr.DoublePointField" docValues="true"/>

	<fieldType name="pints" class="solr.IntPointField" docValues="true" multiValued="true"/>
	<fieldType name="pfloats" class="solr.FloatPointField" docValues="true" multiValued="true"/>
	<fieldType name="plongs" class="solr.LongPointField" docValues="true" multiValued="true"/>
	<fieldType name="pdoubles" class="solr.DoublePointField" docValues="true" multiValued="true"/>
	<fieldType name="random" class="solr.RandomSortField" indexed="true"/>

	<fieldType name="ignored" stored="false" indexed="false" multiValued="true" class="solr.StrField" />
	<fieldType name="pdate" class="solr.DatePointField" docValues="true"/>
	<fieldType name="pdates" class="solr.DatePointField" docValues="true" multiValued="true"/>
	<fieldType name="binary" class="solr.BinaryField"/>
	<fieldType name="rank" class="solr.RankField"/>

	<dynamicField name="*_ws" type="text_ws"  indexed="true"  stored="true"/>
	<fieldType name="text_ws" class="solr.TextField" positionIncrementGap="100">
		<analyzer>
			<tokenizer name="whitespace"/>
		</analyzer>
	</fieldType>

	<fieldType name="text_general" class="solr.TextField" positionIncrementGap="100" multiValued="true">
		<analyzer type="index">
			<tokenizer name="standard"/>
			<filter name="stop" ignoreCase="true" words="stopwords.txt" />
			<filter name="lowercase"/>
		</analyzer>
		<analyzer type="query">
			<tokenizer name="standard"/>
			<filter name="stop" ignoreCase="true" words="stopwords.txt" />
			<filter name="synonymGraph" synonyms="synonyms.txt" ignoreCase="true" expand="true"/>
			<filter name="lowercase"/>
		</analyzer>
	</fieldType>

	<dynamicField name="*_t_sort" type="text_gen_sort" indexed="true" stored="true" multiValued="false"/>
	<dynamicField name="*_txt_sort" type="text_gen_sort" indexed="true" stored="true"/>

	<fieldType name="text_gen_sort" class="solr.SortableTextField" positionIncrementGap="100" multiValued="true">
		<analyzer type="index">
			<tokenizer name="standard"/>
			<filter name="stop" ignoreCase="true" words="stopwords.txt" />
			<filter name="lowercase"/>
		</analyzer>
		<analyzer type="query">
			<tokenizer name="standard"/>
			<filter name="stop" ignoreCase="true" words="stopwords.txt" />
			<filter name="synonymGraph" synonyms="synonyms.txt" ignoreCase="true" expand="true"/>
			<filter name="lowercase"/>
		</analyzer>
	</fieldType>

	<dynamicField name="*_phon_en" type="phonetic_en"  indexed="true"  stored="true"/>
	<fieldType name="phonetic_en" stored="false" indexed="true" class="solr.TextField" >
		<analyzer>
			<tokenizer name="standard"/>
			<filter name="doubleMetaphone" inject="false"/>
		</analyzer>
	</fieldType>

	<dynamicField name="*_s_lower" type="lowercase"  indexed="true"  stored="true"/>
	<fieldType name="lowercase" class="solr.TextField" positionIncrementGap="100">
		<analyzer>
			<tokenizer name="keyword"/>
			<filter name="lowercase" />
		</analyzer>
	</fieldType>

	<dynamicField name="*_descendent_path" type="descendent_path"  indexed="true"  stored="true"/>
	<fieldType name="descendent_path" class="solr.TextField">
		<analyzer type="index">
			<tokenizer name="pathHierarchy" delimiter="/" />
		</analyzer>
		<analyzer type="query">
			<tokenizer name="keyword" />
		</analyzer>
	</fieldType>

	<dynamicField name="*_ancestor_path" type="ancestor_path"  indexed="true"  stored="true"/>
	<fieldType name="ancestor_path" class="solr.TextField">
		<analyzer type="index">
			<tokenizer name="keyword" />
		</analyzer>
		<analyzer type="query">
			<tokenizer name="pathHierarchy" delimiter="/" />
		</analyzer>
	</fieldType>

	<dynamicField name="*_point" type="point"  indexed="true"  stored="true"/>
	<fieldType name="point" class="solr.PointType" dimension="2" subFieldSuffix="_d"/>

	<fieldType name="location" class="solr.LatLonPointSpatialField" docValues="true"/>
	<fieldType name="location_rpt" class="solr.SpatialRecursivePrefixTreeFieldType"
						 geo="true" distErrPct="0.025" maxDistErr="0.001" distanceUnits="kilometers" />

	<fieldType name="delimited_payloads_float" stored="false" indexed="true" class="solr.TextField">
		<analyzer>
			<tokenizer name="whitespace"/>
			<filter name="delimitedPayload" encoder="float"/>
		</analyzer>
	</fieldType>
	<fieldType name="delimited_payloads_int" stored="false" indexed="true" class="solr.TextField">
		<analyzer>
			<tokenizer name="whitespace"/>
			<filter name="delimitedPayload" encoder="integer"/>
		</analyzer>
	</fieldType>
	<fieldType name="delimited_payloads_string" stored="false" indexed="true" class="solr.TextField">
		<analyzer>
			<tokenizer name="whitespace"/>
			<filter name="delimitedPayload" encoder="identity"/>
		</analyzer>
	</fieldType>
</schema>
